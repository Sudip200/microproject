<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title><%= project.title %></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css">
  </head>
  <body class="bg-gray-100">
    <div class="container mx-auto p-4">
      <h1 class="text-2xl font-bold mb-4"><%= project.title %></h1>
      <p class="mb-4"><%= project.description %></p>
      <ul class="mb-4">
        <% project.skills.forEach(function(skill) { %>
          <li class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"><%= skill %></li>
        <% }) %>
      </ul>
      <p class="mb-4"><strong>Budget:</strong> &#x20b9 <%= project.budget %></p>
      <p class="mb-4"><strong>Contact Number:</strong> <%= project.call %></p>
      <p class="mb-4"><strong>Email:</strong> <%= project.email %></p>
     <p>Call and email send will only work on mobile </p>
     <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"  onclick="shareURL('<%= project.budget %>,<%= project.title %>')">
      Share project
    </button>
    
    </div>
    
    <footer class="fixed bottom-0 w-full bg-white shadow-md p-6">
        <div class="flex flex-col gap-4">
            <button onclick="sendEmail('<%= project.email %>')" class="bg-blue-500 hover:bg-blue-700 text-white font-bold rounded py-2 px-4 w-full">Send Proposal</button>
            <button onclick="callNumber('<%= project.call %>')" class="bg-green-500 hover:bg-green-700 text-white font-bold rounded py-2 px-4 w-full">Call</button>
          </div>
      </footer>
  </body>
  <script>
    function shareURL(rupees,title) {
  if (navigator.share) {
    navigator.share({
      title: document.title,
      text: `Complete this ${title} project and earn &#x20b9  ${rupees} ðŸ˜ŠðŸ’°`,
      url: window.location.href
    }).then(() => {
      console.log('Shared successfully');
    })
    .catch((error) => {
      console.error('Error sharing:', error);
    });
  } else {
    console.warn('Web Share API not supported on this browser');
  }
}

      function callNumber(number) {
            window.location.href = 'tel:' + number;
          }
    
          function sendEmail(email) {
  var subject = encodeURIComponent('Project Proposal');
  var body = encodeURIComponent('Dear Client,\n\nI am writing to submit a proposal for your project. Please find the details below:\n\n...');
 //window.location.href="https://gmail.com"
  window.location.href = 'mailto:' + email + '?subject=' + subject + '&body=' + body;
}
  </script>
</html>
